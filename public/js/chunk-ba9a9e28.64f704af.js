(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ba9a9e28"],{adba:function(t,i,e){t.exports=e.p+"img/dark.c765fb76.svg"},e23e:function(t,i,e){"use strict";e.r(i);var a,s=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("Layout",[a("PageHeader",{attrs:{title:t.title,items:t.items}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body overflow-auto"},[t.notificaciones.length<1?a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("b-card",{attrs:{"no-body":""}},[a("b-row",{staticClass:"align-items-center",attrs:{"no-gutters":""}},[a("b-col",{attrs:{md:"8"}},[a("b-card-body",{attrs:{title:"No tienes notificaciones"}})],1),a("b-col",{attrs:{md:"12"}},[a("b-card-img",{staticClass:"rounded-0",attrs:{src:e("adba")}})],1)],1)],1)],1)]):a("simplebar",{staticStyle:{"min-height":"530px","max-height":"530px"}},t._l(t.notificaciones,(function(i,e){return a("a",{key:e,staticClass:"text-reset notification-item"},[a("div",{staticClass:"media"},[a("div",{staticClass:"avatar-xs mr-3"},[a("span",{class:i.color},[a("i",{class:i.icon})])]),a("div",{staticClass:"media-body"},[a("h6",{staticClass:"mt-0 mb-1"},[t._v(t._s(i.titulo))]),a("div",{staticClass:"font-size-12 text-muted"},[a("p",{staticClass:"mb-1"},[t._v(t._s(i.descripcion))]),a("p",{staticClass:"mb-0"},[t._v(" Remitente: "+t._s(i.remitente.nombre)+" "+t._s(i.remitente.apellido)+" ")]),a("p",{staticClass:"mb-0"},[a("i",{staticClass:"mdi mdi-clock-outline"}),t._v(" "+t._s(t._f("capitalize")(i.created_at))+" ")]),a("div",{staticClass:"row",staticStyle:{"margin-left":"92%"}},[a("div",{staticClass:"col-6"},["Pendiente"===i.status?a("button",{staticClass:"btn btn-sm btn-success my-1",on:{click:function(e){return t.editarNotificacion(i.id)}}},[a("i",{staticClass:"fas fa-eye"})]):t._e()]),a("div",{staticClass:"col-6"},[a("button",{staticClass:"btn btn-sm btn-danger my-1",on:{click:function(e){return t.eliminarNotificacion(i.id)}}},[a("i",{staticClass:"fas fa-trash-alt"})])])])])])])])})),0)],1)])])])],1)},o=[],n=e("ade3"),r=e("1da1"),c=e("5530"),l=(e("2b3d"),e("d3b7"),e("3ca3"),e("ddb0"),e("96cf"),e("92c3")),d=e.n(l),u=e("8d3b"),f=e("2f62"),m=e("7bb1"),h=e("5658"),p=e("2579"),g=e("c1df"),b=e.n(g),v=(a={components:{vueDropzone:d.a,Layout:h["a"],PageHeader:p["a"],ValidationProvider:m["b"],ValidationObserver:m["a"],simplebar:u["a"]},data:function(){return{title:"Usuarios",items:[{text:"Notificaciones"}],dropzoneOptions:{thumbnailWidth:150,maxFilesize:.5,headers:{"My-Awesome-Header":"header value"}},ver:!1,url:"",url_firma:"",modal:!0,file:null,firma:null,email:"",password:"",totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:null,filterOn:[],sortBy:"age",sortDesc:!1,fields:["cargo","descripcion","actions"],notificaciones:[],editMode:!1,form:{id:"",cargo:"",descripcion:""}}},computed:Object(c["a"])({},Object(f["d"])(["counter"])),created:function(){this.listarUsers()},filters:{capitalize:function(t){if(!t)return"";var i=b()(),e=i.diff(t,"days"),a=i.diff(t,"hours"),s=i.diff(t,"minutes");return e>1?"hace "+e+" dias.":0==e&&a>1?"hace "+a+" horas.":"hace "+s+" minutos."}},methods:Object(c["a"])(Object(c["a"])({onFiltered:function(t){this.totalRows=t.length,this.currentPage=1}},Object(f["b"])(["guardarUsuario"])),{},{switchLoc:function(){var t=this;this.editMode?this.$refs.form.validate().then((function(i){i&&t.editarCargos()})):this.$refs.form.validate().then((function(i){i&&t.agregarCargo()}))},agregarCargo:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var e,a,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:for(s in e=new FormData,a=t.form,a)e.append(s,a[s]);return i.next=5,t.axios.post("api/cargos",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(i){if(200==i.status)for(var e in t.$swal("Agregado exito!","","success"),t.listarCargos(),t.$root.$emit("bv::hide::modal","modal","#btnShow"),a)t.form[e]=""})).catch((function(i){console.log(i.response.data.menssage),t.$swal(i.response.data)}));case 5:case"end":return i.stop()}}),i)})))()},editarNotificacion:function(t){var i=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FormData,a.append("id",t),e.next=4,i.axios.put("api/notificacion",a).then((function(t){200==t.status&&(i.$swal("Editado con exito","","success"),i.listarNotificaciones(),i.$root.$emit("bv::hide::modal","modal","#btnShow"))})).catch((function(t){i.$swal("ocurrio un problema","","warning")}));case 4:case"end":return e.stop()}}),e)})))()},eliminarNotificacions:function(t){var i=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FormData,a.append("id",t),e.next=4,i.axios.post("api/notificacion/delete",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){200==t.status&&(i.$swal("Eliminado con exito!","","success"),i.listarNotificaciones())})).catch((function(t){i.$swal("Ocurrio un problema!","","danger")}));case 4:case"end":return e.stop()}}),e)})))()},eliminarNotificacion:function(t){var i=this;this.$swal({title:"Desea borrar?",icon:"question",iconHtml:"",confirmButtonText:"Si",cancelButtonText:"No",showCancelButton:!0,showCloseButton:!0}).then((function(e){e.isConfirmed&&i.eliminarNotificacions(t)}))},resete:function(){var t=this.form;for(var i in t)this.form[i]=""},setear:function(t){for(var i=0;i<this.cargos.length;i++)if(this.cargos[i].id===t)return this.form.id=this.cargos[i].id,this.form.cargo=this.cargos[i].cargo,this.form.descripcion=this.cargos[i].descripcion,void this.$root.$emit("bv::show::modal","modal","#btnShow")},setEmail:function(){this.form.username=this.form.email,console.log("holas")},setRoles:function(){"Administrador"===this.form.tipo?(this.form.codigo="",this.form.entidad="No",this.form.cargo="",this.form.roles="3"):"Coordinador"===this.form.tipo?(this.form.entidad="No",this.form.cargo="",this.form.roles="2"):this.form.roles="1"},onFileChange:function(t){var i=t.target.files[0];this.url=URL.createObjectURL(i)},toggleModal:function(){this.modal=!this.modal},listarNotificaciones:function(t){var i=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.axios.get("api/notificacion/todas").then((function(t){200==t.status&&(i.notificaciones=t.data.rows)})).catch((function(t){}));case 2:case"end":return t.stop()}}),t)})))()},session:function(){if(localStorage.getItem("token")){var t=localStorage.getItem("token");this.guardarUsuario(t)}else this.$router.push({name:"Home"})}})},Object(n["a"])(a,"created",(function(){this.session(),this.listarNotificaciones()})),Object(n["a"])(a,"mounted",(function(){})),Object(n["a"])(a,"computed",{rows:function(){return this.cargos.length}}),a),w=v,C=e("2877"),x=Object(C["a"])(w,s,o,!1,null,null,null);i["default"]=x.exports}}]);
//# sourceMappingURL=chunk-ba9a9e28.64f704af.js.map