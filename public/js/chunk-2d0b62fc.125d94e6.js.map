{"version":3,"sources":["webpack:///./src/views/pages/procesos/servicios.vue?4e13","webpack:///src/views/pages/procesos/servicios.vue","webpack:///./src/views/pages/procesos/servicios.vue?62f7","webpack:///./src/views/pages/procesos/servicios.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","title","items","staticClass","scopedSlots","_u","key","fn","_v","_s","serviciosAth","length","proxy","_l","servicio","id","on","$event","rechazar","cajero_ath","entidad","imagen","tipo_llamada","llamada","titulo","descripcion","terminal","direccion","requiere_cita","status","_e","_f","vencimiento_tecnico","staticStyle","ref","errors","model","value","form","callback","$$v","$set","expression","enviarRechazo","staticRenderFns","components","vueDropzone","Layout","PageHeader","ValidationProvider","ValidationObserver","data","thumbnailWidth","maxFilesize","headers","ver","url","url_firma","modal","file","firma","email","password","totalRows","currentPage","perPage","pageOptions","filter","filterOn","sortBy","sortDesc","fields","cargos","editMode","computed","filters","methods","onFiltered","filteredItems","localStorage","setItem","JSON","stringify","$router","push","switchLoc","esValido","$refs","validate","then","component"],"mappings":"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","file":"js/chunk-2d0b62fc.125d94e6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Layout',[_c('PageHeader',{attrs:{\"title\":_vm.title,\"items\":_vm.items}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-12\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',[_c('b-tabs',[_c('b-tab',{attrs:{\"active\":\"\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('b-spinner',{attrs:{\"type\":\"\",\"small\":\"\"}}),_vm._v(\"ATH \"),_c('strong'),_c('b-badge',{attrs:{\"pill\":\"\",\"variant\":\"danger\"}},[_vm._v(_vm._s(_vm.serviciosAth.length))])]},proxy:true}])},[_c('div',{staticClass:\"row\"},_vm._l((_vm.serviciosAth),function(servicio){return _c('div',{key:servicio.id,staticClass:\"col-lg-6\"},[_c('b-card',[_c('b-dropdown',{staticClass:\"float-right\",attrs:{\"right\":\"\",\"toggle-class\":\"arrow-none card-drop\",\"variant\":\"white\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"mdi mdi-dots-vertical\"})]},proxy:true}],null,true)},[_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.rechazar(servicio)}}},[_vm._v(\"Rechazar\")])],1),_c('b-row',{staticClass:\"align-items-center\",attrs:{\"no-gutters\":\"\"}},[_c('b-col',{attrs:{\"md\":\"3\"}},[_c('b-card-img',{staticClass:\"rounded-0\",attrs:{\"src\":servicio.cajero_ath.entidad.imagen}})],1),_c('b-col',{attrs:{\"md\":\"9\"}},[_c('b-card-body',{attrs:{\"title\":servicio.tipo_llamada+'-'+servicio.llamada}},[_c('b-card-text',{staticClass:\"m-0\"},[_vm._v(\"Consecutivo:ATH-\"+_vm._s(servicio.id))]),_c('b-card-text',{staticClass:\"m-0\"},[_vm._v(_vm._s(servicio.titulo))]),_c('b-card-text',{staticClass:\"m-0\"},[_vm._v(_vm._s(servicio.descripcion))]),_c('b-card-text',{staticClass:\"m-0\"},[_vm._v(\"Terminal: \"+_vm._s(servicio.cajero_ath.terminal))]),_c('b-card-text',{staticClass:\"m-0\"},[_vm._v(\"Dirección: \"+_vm._s(servicio.cajero_ath.direccion))]),_c('b-card-text',{staticClass:\"m-0\"},[_vm._v(\"Cita: \"+_vm._s(servicio.requiere_cita))]),(servicio.status==='En proceso')?_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(\"En proceso\")]):_vm._e(),(servicio.status==='Pendiente')?_c('b-badge',{attrs:{\"variant\":\"warning\"}},[_vm._v(\"Pendiente\")]):_vm._e(),(servicio.status==='Programada')?_c('b-badge',{attrs:{\"variant\":\"info\"}},[_vm._v(\"Programada\")]):_vm._e(),(servicio.status==='Reprogramada')?_c('b-badge',{attrs:{\"variant\":\"info\"}},[_vm._v(\"Reprogramada\")]):_vm._e(),(servicio.status==='Escalada')?_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(\"Escalada\")]):_vm._e(),(servicio.status==='Rechazada')?_c('b-badge',{attrs:{\"variant\":\"danger\"}},[_vm._v(\"Rechazada\")]):_vm._e(),(servicio.status==='Archivada')?_c('b-badge',{attrs:{\"variant\":\"primary\"}},[_vm._v(\"Archivada\")]):_vm._e(),(servicio.status==='Cerrada')?_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(\"Cerrada\")]):_vm._e(),(servicio.status==='Creada')?_c('b-badge',{attrs:{\"variant\":\"primary\"}},[_vm._v(\"Creada\")]):_vm._e(),(servicio.status==='Aceptada')?_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(\"Aceptada por analista\")]):_vm._e(),(servicio.status==='Devuelta')?_c('b-badge',{attrs:{\"variant\":\"warning\"}},[_vm._v(\"Devuelta\")]):_vm._e(),_c('p',{staticClass:\"lead text-danger\"},[_vm._v(_vm._s(_vm._f(\"capitalize\")(servicio.vencimiento_tecnico)))]),_c('a',{staticStyle:{\"color\":\"#000\"},attrs:{\"href\":'llamada_ath_tablero/'+servicio.id}},[_c('button',{staticClass:\"btn btn-success btn-block\",attrs:{\"type\":\"button\",\"data-toggle\":\"button\",\"aria-pressed\":\"false\"}},[_vm._v(\"Gestionar\")])])],1)],1)],1)],1)],1)}),0)]),_c('b-tab',{scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('b-spinner',{attrs:{\"type\":\"border\",\"small\":\"\"}}),_vm._v(\" Tab 2 \")]},proxy:true}])},[_c('p',{staticClass:\"p-3\"},[_vm._v(\"Tab contents 2\")])])],1)],1)])])])]),_c('b-modal',{attrs:{\"id\":\"modal_rechazo\",\"false\":\"\",\"size\":\"lg\",\"title\":\"Rechazar\",\"hide-footer\":\"\"}},[_c('ValidationObserver',{ref:\"form\"},[_c('b-row',[_c('b-col',[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Motivo de rechazo\")]),_c('ValidationProvider',{attrs:{\"name\":\"motivo escalado\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-textarea',{attrs:{\"id\":\"motivo_rechazo\",\"placeholder\":\"Enter something...\",\"rows\":\"3\",\"max-rows\":\"6\"},model:{value:(_vm.form.motivo_rechazo),callback:function ($$v) {_vm.$set(_vm.form, \"motivo_rechazo\", $$v)},expression:\"form.motivo_rechazo\"}}),_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(errors[0]))])]}}])})],1)])],1)],1),(_vm.form.motivo_rechazo)?_c('button',{staticClass:\"btn btn-block float-right btn-danger\",on:{\"click\":function($event){return _vm.enviarRechazo()}}},[_vm._v(\"Enviar\")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Layout>\r\n    <PageHeader :title=\"title\" :items=\"items\" />\r\n\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-12\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <div>\r\n            <b-tabs>\r\n              <b-tab active>\r\n                <template #title>\r\n                  <b-spinner type=\"\" small></b-spinner>ATH <strong></strong><b-badge pill variant=\"danger\">{{serviciosAth.length}}</b-badge>\r\n                </template>\r\n                <div class=\"row\">\r\n                  <div class=\"col-lg-6\" v-for=\"servicio in serviciosAth\" :key=\"servicio.id\">\r\n                    <b-card >\r\n                      <b-dropdown right toggle-class=\"arrow-none card-drop\" class=\"float-right\" variant=\"white\">\r\n                          <template v-slot:button-content>\r\n                            <i class=\"mdi mdi-dots-vertical\"></i>\r\n                          </template>\r\n                          <b-dropdown-item @click=\"rechazar(servicio)\">Rechazar</b-dropdown-item>\r\n                          <!-- item-->\r\n                      </b-dropdown>\r\n                      <b-row no-gutters class=\"align-items-center\">\r\n                        <b-col md=\"3\">\r\n                          <b-card-img :src=\"servicio.cajero_ath.entidad.imagen\" class=\"rounded-0\"></b-card-img>\r\n                        </b-col>\r\n                        <b-col md=\"9\">\r\n                          <b-card-body :title=\"servicio.tipo_llamada+'-'+servicio.llamada\">\r\n                            <b-card-text class=\"m-0\">Consecutivo:ATH-{{servicio.id}}</b-card-text>\r\n                            <b-card-text class=\"m-0\">{{servicio.titulo}}</b-card-text>\r\n                            <b-card-text class=\"m-0\">{{servicio.descripcion}}</b-card-text>\r\n                            <b-card-text class=\"m-0\">Terminal: {{servicio.cajero_ath.terminal}}</b-card-text>\r\n                            <b-card-text class=\"m-0\">Dirección: {{servicio.cajero_ath.direccion}}</b-card-text>\r\n                            <b-card-text class=\"m-0\">Cita: {{servicio.requiere_cita}}</b-card-text>\r\n                            \r\n                            <b-badge variant=\"success\" v-if=\"servicio.status==='En proceso'\">En proceso</b-badge>\r\n                            <b-badge variant=\"warning\" v-if=\"servicio.status==='Pendiente'\">Pendiente</b-badge>\r\n                            <b-badge variant=\"info\" v-if=\"servicio.status==='Programada'\">Programada</b-badge>\r\n                            <b-badge variant=\"info\" v-if=\"servicio.status==='Reprogramada'\">Reprogramada</b-badge>\r\n                            <b-badge variant=\"success\" v-if=\"servicio.status==='Escalada'\">Escalada</b-badge>\r\n                            <b-badge variant=\"danger\" v-if=\"servicio.status==='Rechazada'\">Rechazada</b-badge>\r\n                            <b-badge variant=\"primary\" v-if=\"servicio.status==='Archivada'\">Archivada</b-badge>\r\n                            <b-badge variant=\"success\" v-if=\"servicio.status==='Cerrada'\">Cerrada</b-badge>\r\n                            <b-badge variant=\"primary\" v-if=\"servicio.status==='Creada'\">Creada</b-badge>\r\n                            <b-badge variant=\"success\" v-if=\"servicio.status==='Aceptada'\">Aceptada por analista</b-badge>\r\n                            <b-badge variant=\"warning\" v-if=\"servicio.status==='Devuelta'\">Devuelta</b-badge>\r\n                           <p class=\"lead text-danger\">{{servicio.vencimiento_tecnico | capitalize }}</p>  \r\n                           <a :href=\"'llamada_ath_tablero/'+servicio.id\" style=\"color:#000\">\r\n                            <button\r\n                              type=\"button\"\r\n                              class=\"btn btn-success btn-block\"\r\n                              data-toggle=\"button\"\r\n                              aria-pressed=\"false\"\r\n                            >Gestionar</button></a>\r\n                          </b-card-body>\r\n                        </b-col>\r\n                      </b-row>\r\n                    </b-card>\r\n                </div>\r\n                </div>\r\n              \r\n              </b-tab>\r\n\r\n              <b-tab>\r\n                <template #title>\r\n                  <b-spinner type=\"border\" small></b-spinner> Tab 2\r\n                </template>\r\n                <p class=\"p-3\">Tab contents 2</p>\r\n              </b-tab>\r\n            </b-tabs>\r\n          </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <b-modal id=\"modal_rechazo\" false size=\"lg\"  title=\"Rechazar\" hide-footer>\r\n          <ValidationObserver ref=\"form\"> \r\n              <b-row>\r\n\r\n                <b-col>\r\n                    <div class=\"form-group\">\r\n                    <label>Motivo de rechazo</label>\r\n                    <ValidationProvider name=\"motivo escalado\" rules=\"required\" v-slot=\"{ errors }\">\r\n                            <b-form-textarea\r\n                              id=\"motivo_rechazo\"\r\n                              v-model=\"form.motivo_rechazo\"\r\n                              placeholder=\"Enter something...\"\r\n                              rows=\"3\"\r\n                              max-rows=\"6\"\r\n                              \r\n                            ></b-form-textarea>\r\n                          <span style=\"color:red\">{{ errors[0] }}</span>\r\n                    </ValidationProvider>\r\n              \r\n                    </div>\r\n                </b-col>\r\n              </b-row>\r\n        </ValidationObserver>\r\n        <button class=\"btn btn-block float-right btn-danger\" v-if=\"form.motivo_rechazo\" @click=\"enviarRechazo()\">Enviar</button>\r\n     </b-modal>\r\n\r\n\r\n  </Layout>\r\n</template>\r\n\r\n<script>\r\n\r\nimport vue2Dropzone from \"vue2-dropzone\";\r\nimport {mapState,mapMutations, mapActions} from 'vuex'\r\nimport { ValidationProvider, ValidationObserver } from \"vee-validate\";\r\nimport Layout from \"../../layouts/main\";\r\nimport PageHeader from \"@/components/page-header\";\r\nimport moment from 'moment';\r\n\r\n\r\n/**\r\n * Dashboard component\r\n */\r\nexport default {\r\n  components: {\r\n    vueDropzone: vue2Dropzone,\r\n    Layout,\r\n    PageHeader,\r\n    ValidationProvider,\r\n    ValidationObserver\r\n  },\r\n  data() {\r\n    return {\r\n      title: \"Gestion Tecnica\",\r\n      items: [\r\n        {\r\n          text: \"Servicios pendiente por cerrar\"\r\n        }\r\n      ],\r\n     dropzoneOptions: {\r\n        thumbnailWidth: 150,\r\n        maxFilesize: 0.5,\r\n        headers: { \"My-Awesome-Header\": \"header value\" }\r\n      },\r\n      ver:false,\r\n      url:\"\",\r\n      url_firma:\"\",\r\n      modal: true,\r\n      file:null,\r\n      firma:null,\r\n      email: \"\",\r\n      password: \"\",\r\n      totalRows: 1,\r\n      currentPage: 1,\r\n      perPage: 10,\r\n      pageOptions: [10, 25, 50, 100],\r\n      filter: null,\r\n      filterOn: [],\r\n      sortBy: \"age\",\r\n      sortDesc: false,\r\n      fields: [\"cargo\",\"descripcion\",\"actions\"],\r\n      cargos: [], \r\n      serviciosAth: [],\r\n      editMode:false,\r\n      form:{\r\n          'id':'',\r\n          'cargo':'',\r\n          'descripcion':'',\r\n          'motivo_rechazo':'',\r\n      }\r\n    }\r\n  },\r\n  computed:{\r\n        ...mapState(['counter'])\r\n   },\r\n  filters: {\r\n        capitalize: function (value) {\r\n          if (!value) return ''\r\n          let fecha = moment();\r\n        \r\n        if (fecha.diff(value, 'hours')>0) {\r\n            return value = -1 * fecha.diff(value, 'hours') + \" horas vencido.\"; \r\n          }else{\r\n            return value = -1 *fecha.diff(value, 'hours')+ \" horas para caducar.\"; \r\n          }\r\n        }\r\n    },\r\n  methods: {\r\n\r\n    onFiltered(filteredItems) {\r\n      // Trigger pagination to update the number of buttons/pages due to filtering\r\n      this.totalRows = filteredItems.length;\r\n      this.currentPage = 1;\r\n    }, \r\n    ...mapActions(['guardarUsuario']),\r\n  solicitudAth(data){\r\n      localStorage.setItem(\"consecutivo\", JSON.stringify(data));\r\n      this.$router.push({ path: 'llamada_ath_tablero' })\r\n    },\r\n    switchLoc(){\r\n      if (!this.editMode) {\r\n        this.$refs.form.validate().then(esValido => {\r\n            if (esValido) {\r\n              this.agregarCargo();\r\n            } else {}\r\n          });        \r\n        }else{\r\n          this.$refs.form.validate().then(esValido => {\r\n          if (esValido) {\r\n            this.editarCargos();\r\n          } else {\r\n        }});\r\n      }\r\n    },\r\n      rechazar(data){\r\n        this.form.id=data.id;\r\n        this.form.coordinador_id=data.coordinador_id;\r\n        this.form.motivo_rechazo=\"\";\r\n        this.$root.$emit(\"bv::show::modal\", \"modal_rechazo\", \"#btnShow\");\r\n      },\r\n      enviarRechazo(){\r\n        this.$swal({\r\n          title: 'Desea rechazar esta programación?',\r\n          icon: 'question',\r\n          iconHtml: '',\r\n          confirmButtonText: 'Si',\r\n          cancelButtonText: 'No',\r\n          showCancelButton: true,\r\n          showCloseButton: true\r\n        }).then((result) => {\r\n          if (result.isConfirmed) {\r\n            this.procesarRechazo();\r\n            \r\n          }\r\n        })\r\n      },\r\n      async procesarRechazo(){\r\n        let data = new FormData();\r\n        data.append('id',this.form.id);\r\n        data.append('coordinador_id',this.form.coordinador_id);\r\n        data.append('motivo_rechazo',this.form.motivo_rechazo);\r\n        await this.axios.post('/api/tecnico/programacion/ath/rechazar',data, {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data'\r\n            }}).then(response => {\r\n              if (response.status==200) {\r\n              this.$swal(\r\n                    'Rechazado con exito!',\r\n                      '',\r\n                      'success'\r\n                );\r\n                  this.listarServicios();\r\n                     this.$root.$emit(\"bv::hide::modal\", \"modal_rechazo\", \"#btnShow\");\r\n                }\r\n              }).catch(e => {\r\n\r\n                this.$swal(e.response.data);\r\n          });\r\n      },\r\n\r\n   async agregarCargo(){\r\n     let data = new FormData();\r\n      var formulario = this.form;\r\n        for (var key in formulario) {\r\n          data.append(key,formulario[key]);\r\n        }\r\n       await this.axios.post('api/cargos', data, {\r\n           headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n           }}).then(response => {\r\n            if (response.status==200) {\r\n               this.$swal(\r\n                   'Agregado exito!',\r\n                    '',\r\n                    'success');\r\n               this.listarCargos();\r\n               this.$root.$emit(\"bv::hide::modal\", \"modal\", \"#btnShow\");\r\n               ///limpiar el formulario\r\n                for (var key in formulario) {\r\n                   this.form[key]=\"\";\r\n                 }\r\n              }\r\n            }).catch(e => {\r\n              console.log(e.response.data.menssage);\r\n              this.$swal(e.response.data);\r\n          });\r\n      },\r\n    async editarCargos(){\r\n     let data = new FormData();\r\n       var formulario = this.form;\r\n        for (var key in formulario) {\r\n          data.append(key,formulario[key]);\r\n        }\r\n        await this.axios.put('api/cargos', data).then(response => {\r\n            if (response.status==200) {\r\n               this.$swal('Editado con exito','','success');\r\n               this.listarCargos();\r\n               this.$root.$emit(\"bv::hide::modal\", \"modal\", \"#btnShow\");\r\n               ///limpiar el formulario\r\n                for (var key in formulario) {\r\n                   this.form[key]=\"\";\r\n                 }\r\n              }\r\n            }).catch(e => {\r\n                this.$swal('ocurrio un problema','','warning');\r\n            });\r\n     },\r\n     async eliminarCargos(id){\r\n        let data = new FormData();\r\n        data.append('id',id);\r\n        await this.axios.post('api/cargos/delete',data, {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data'\r\n            }}).then(response => {\r\n              if (response.status==200) {\r\n                this.$swal(\r\n                    'Eliminado con exito!',\r\n                      '',\r\n                      'success'\r\n                );\r\n                this.listarCargos();\r\n                }\r\n              }).catch(e => {\r\n                console.log(e.response.data.menssage);\r\n                this.$swal(e.response.data);\r\n          });\r\n      }, \r\n      eliminarCargo(id){\r\n        this.$swal({\r\n          title: 'Desea borrar este cargo?',\r\n          icon: 'question',\r\n          iconHtml: '',\r\n          confirmButtonText: 'Si',\r\n          cancelButtonText: 'No',\r\n          showCancelButton: true,\r\n          showCloseButton: true\r\n        }).then((result) => {\r\n          if (result.isConfirmed) {\r\n            this.eliminarCargos(id);\r\n          }\r\n        })\r\n      },\r\n      resete(){\r\n        var formulario = this.form;\r\n        for (var key in formulario) {\r\n             this.form[key]=\"\";\r\n       }\r\n      },\r\n      setear(id) {\r\n        for (let index = 0; index < this.cargos.length; index++) {\r\n          if (this.cargos[index].id===id) {\r\n            this.form.id=this.cargos[index].id;\r\n            this.form.cargo=this.cargos[index].cargo;\r\n            this.form.descripcion=this.cargos[index].descripcion;\r\n            this.$root.$emit(\"bv::show::modal\", \"modal\", \"#btnShow\");\r\n            return;\r\n          }\r\n        }\r\n      },\r\n    async  listarServicios(){\r\n       await this.axios.get('api/programacion/ath/servicios')\r\n        .then((response) => {\r\n          this.serviciosAth = response.data;\r\n        })\r\n        .catch((e)=>{\r\n          console.log('error' + e);\r\n        })\r\n      },\r\n      session(){\r\n        if (localStorage.getItem('token')) {\r\n          const token=localStorage.getItem('token');\r\n          this.guardarUsuario(token);\r\n          }else{\r\n          this.$router.push({ name: 'Home' });\r\n          }\r\n        }\r\n  },\r\n    created(){\r\n        this.session();\r\n        this.listarServicios();\r\n\r\n      },\r\n     mounted() {\r\n\r\n    },\r\n    computed: {\r\n    ...mapState(['usuarioDB']),\r\n    rows() {\r\n      return this.cargos.length;\r\n    },\r\n  },\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./servicios.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./servicios.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./servicios.vue?vue&type=template&id=6335f242&\"\nimport script from \"./servicios.vue?vue&type=script&lang=js&\"\nexport * from \"./servicios.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}